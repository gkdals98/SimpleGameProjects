# 밸런싱용 간단한 시뮬레이터 제작.

### 테스트 목적
+ 얼마만큼의 스텟을 가졌을 때 플레이어가 어디까지 버틸 수 있는지 수치 조정.
+ 초기 적들, 후반 적들은 얼마나 강해야 하는지 수치 조정.
+ 게임을 직접 해보면서 어떤 패턴이 나와야 더 재밌는지를 연구.
+ 게임을 직접 해보며 재미없는 부분을 보완



### 각 UI의 기능 설계
#### Battle UI
+ 전투의 가장 기본적인 기능만을 구현.
+ 준비단계 - 드랍된 아이템을 장착하거나 드랍된 소비템을 사용 가능.
+ 전투도입 - 기습 혹은 도망을 선택 가능. 라운드 1 증가.
+ 전투단계 (전투 종료까지 루프)
    * 턴 시작 : 공격, 도주를 선택한다.
    * 플레이어 턴 : 자신이 사용할 기술을 고른다.
    * 적 턴 : 적이 공격하는 것을 지켜본다.
+ 전투종료 - 드랍된 아이템을 확인 후 챙긴다.
#### Player UI
+ 플레이어의 세팅을 담당.
+ 플레이어의 스텟을 설정한다.
+ 중간 난이도의 난이도 실험을 위해 장착 아이템, 소지 아이템, trait을 조정할 수 있다.
#### Enemy UI
+ 난이도 설정을 담당.
+ 적들이 강한 순서대로 나열되어있으며 어느 적으로부터 게임을 시작할 지 정할 수 있다.
+ 각 적들의 주사위 수치를 조정할 수 있다.




### 전투 설계
#### 러프한 설계
+ 민첩 회피와 방어 회피 두 종류의 회피를 두고 공격 타입에 따라 적이 어떻게 반응할지가 결정된다.
+ 공격 이후의 상황도 공격을 통해 얼추 정해진다. 회피하거나 방어하거나 둘 중 하나로 공격 선택을 통해 추가 주사위를 얻는다.
+ 적이 무슨 행동을 할 지 얼추 표시된다. 즉 공격하면서 적에게 큰 데미지를 입히는 것 뿐만 아니라 공격이후 적의 공격을 받는 것까지 생각해야함.
+ 버프기는 이 두 가지 선택에 대한 강화를 담당한다.
+ 즉, 무기별로 공격 선택지는 강타기 (적은 회피), 견제기 (적은 방어), 특수기(버프 또는 디버프) 세 종류이다. 무기의 특성에 따른 부가효과는 가급적 해당 기술 세 가지에 넣어보자.
+ 가방에 달린 패시브 스킬중 전투보조는 일반적으론 이런 효과에 대한 강화를 담당한다.
+ 무기에 계통(봉, 창, 총 등)을 넣어 각 계통별 스킬을 찍을 수 있게 한다. 주요 효과는 해당 계통을 들었을 시 플레이어 주사위 추가. 또한 추가 패시브 획득.
+ 계통은 크게 근접형, 원거리형 두 가지로 나뉜다. 계통을 적을 때 근접형은 붉은 배경, 원거리형은 초록 배경.
+ 장비엔 모딩도 들어간다. 무기의 경우, 보통 소소하게 주사위를 늘려주는 정도로 무기 등급에 따라 같은 효과를 보기위해 더 높은 등급의 모드가 들어간다.
+ 소모성 아이템은 어느정도 낭비를 해도 괜찮도록 재료를 통해 조달할 수도 있게 한다. 이 또한 크레프팅 요소.


#### 최종안 1 - 심플 이스 베스트
+ 적을 발견할 시 (추적자는 해당 안됨)
     * 기습한다 (공격하며 전투 시작)
     * 도망간다 (도주 확률 올라감)
+ 적과 전투 시
     * 적이 무엇을 할 지 대략적으로 보인다.
     * 사용할 주사위와 보존할 주사위를 정한다. (보존 최대 5개)
     * 사용할 주사위는 그 턴에 굴린다.
     * 보존할 주사위는 다음 턴으로 넘어간다.
     * 주사위 수치 합계로 무기의 스킬이 발동한다.
     * 주사위 수치 합계로 무기 스킬이 발동하는 경우, 초반 무기는 무조건 스킬이 빵빵 터지기에. 무기로 얻어진 주사위로만 스킬을... 발동하나.
+ 적의 경우
     * 단순 데미지를 입힌다.
     * 자신의 주사위를 보존하며 데미지를 입힌다. 주사위 몇 개를 보존하는지는 출력되지 않음.
     * 주사위 개수가 올라가면 스킬이 발동한다.

#### 최종안 2 - 살짝 어렵게 가기
+ 적을 발견할 시 (추적자는 해당 안됨)
    * 기습한다 (공격하며 전투 시작)
     * 도망간다 (도주 확률 올라감)
+ 적과 전투 시
     * 적이 무엇을 할 지 대략적으로 보인다.
     * 방어기, 회피기, 특수기 세 가지중 한 가지를 사용하며 전투를 시작한다.
     * 선택한 기술에 따라 다른 효과가 발생하며 공격한다.
     * 적 턴이 되면 선택한 기술에 따라 발생한 효과를 염두해 회피, 방어 중 한 가지를 선택한다.
     * 이후 중첩되는 시너지를 이용해 전투한다.

+ 적은 어떤 공격을 할 것인가? AI는어떻게 될 것인가?
    * 적의 스킬도 3가지.
    * 간단한 행동패턴을 몇 개 입력해서 그 중 랜덤으로 선택하게 한다.

#### 최종안 3 - 더 심플하고 랜덤성도 강하게.
+ 무기는 전부 소비제이다. 즉 pp와 같이 대전 당 스킬별 사용 횟수가 제한되어있다.
+ 주사위를 굴린다. 얏지와 같이 해당 주사위로 어떤 스킬을 사용할지를 정한다.
+ 이럼 대부분 플레이어 캐릭터가 배운 스킬로 때운다 쳐도 무기 하나당 스킬이 너무 많이 필요하다.
+ 무기 스킬은 세 네 개지만 효과가 강력한 걸로 해도 괜찮겠지.
+ 이 경우 모딩은 그 효과가 너무 다양해진다.

+ 세 방법 모두 결국 재밌을지 여부는 적의 패턴 설계 + 무기별 차별화에 달린 것 같다.




### 실제 제작
#### Player UI 러프
+ 플레이어 설정 메뉴 - 스텟 설정, 트레잇 설정, 장비 설정, 무기 설정
+ 필요한 값들은 방식에 상관없이 공통적으로 아래와 같다.
+ 플레이어 설정 메뉴 - 스텟 설정, 트레잇 설정, 장비 설정, 무기 설정
+ 스텟은 다시 아래와 같이 나뉨
    * HP
    * 힘주사위
    * 민첩주사위
    * 지능주사위
    * 버프 디버프


#### Player UI 고민...
+ 트레잇은 +버튼을 클릭하면 리스트가 쭉 뜨고 그 중에 클릭하는 식으로?
+ 장비도 마찬가지. 해당 슬롯을 클릭하고 리스트가 쭉 뜨면 그 중 선택한다.
+ 무기도 마찬가지.



### 제작시 참고하는 링크들
+ Modal 관련 링크 세 개.
+ https://medium.com/@jeongwooahn/vue-js-%EC%96%91%EB%B0%A9%ED%96%A5-%EB%8D%B0%EC%9D%B4%ED%84%B0-%EB%B0%94%EC%9D%B8%EB%94%A9-%ED%99%9C%EC%9A%A9-%EB%AA%A8%EB%8B%AC-%EB%A0%88%EC%9D%B4%EC%96%B4%ED%8C%9D%EC%97%85-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8-%EB%A7%8C%EB%93%A4%EA%B8%B0%EB%A5%BC-%ED%86%B5%ED%95%98%EC%97%AC-%EC%95%8C%EC%95%84%EB%B3%B4%EA%B8%B0-sync-4e2a5cf70dc4
+ https://m.blog.naver.com/PostView.nhn?blogId=jjoommnn&logNo=221102686590&proxyReferer=https%3A%2F%2Fwww.google.com%2F
+ 요건 지난번 캠버스에 데이터 바인딩할 때도 도움받은 상당히 믿을만한 사이트인데 이걸로 주로 참조 - https://alligator.io/vuejs/vue-modal-component/

+ 최대한 쓰지 말자 - 아래는 String으로 Function을 수행하는 방법
+ https://stackoverflow.com/questions/939326/execute-javascript-code-stored-as-a-string
